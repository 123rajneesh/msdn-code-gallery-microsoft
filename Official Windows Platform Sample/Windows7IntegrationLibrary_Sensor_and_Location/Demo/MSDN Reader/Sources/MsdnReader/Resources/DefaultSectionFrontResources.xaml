<!--
  Resource dictionary that defines the look and behavior of the default SectionFront control. These
  resources are ordered as follows:
  1. Simple styles: Brush resouces and text property resources
  2. Story boards: Animations for story button interactions
  3. Styles and ControlTemplates: Definitions for the look and feel of controls such as buttons, ImageControl,
     MainStoryControl, and StoryControl
  4. SectionFrontControl Templates: Each on of these ControlTemplates defines the appearance of the section
     view.
  5. SizeControlTemplateCollections : Each template in these collections controls the visualization of the SectionFront
     at a range of screen sizes.
  6. SectionFrontControlSyle
     
-->
<ResourceDictionary
  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
  xmlns:SceReader="clr-namespace:Microsoft.SceReader;assembly=SceReader"
  xmlns:SceReaderControls="clr-namespace:Microsoft.SceReader.Controls;assembly=SceReader"
  xmlns:SceReaderData="clr-namespace:Microsoft.SceReader.Data;assembly=SceReader"
  xmlns:a="clr-namespace:Microsoft.Windows.Themes;assembly=PresentationFramework.Aero"
  xmlns:local="clr-namespace:MsdnReader"
  >

  <local:BestStoryImageConverter x:Key="BestImageConverter" />
  
  <!-- Brushes -->
  <SolidColorBrush x:Key="Brush_Rule" Color="Black" />
  <SolidColorBrush x:Key="Brush_Byline" Color="Black" />
  <SolidColorBrush x:Key="Brush_Kicker" Color="#555555" />
  <SolidColorBrush x:Key="Brush_PubDate" Color="RoyalBlue" />
  <LinearGradientBrush x:Key="Brush_Rule_Gradient" StartPoint="0,0.5" EndPoint="1,0.5">
    <GradientStop Color="#00FFFFFF" Offset="0"/>
    <GradientStop Color="Black" Offset="0.35"/>
    <GradientStop Color="Black" Offset="0.65"/>
    <GradientStop Color="#00FFFFFF" Offset="1"/>
  </LinearGradientBrush>

  <!-- Vertical and Horizontal Rules -->
  <Style x:Key="Rectangle_HorizontalRule" TargetType="{x:Type Rectangle}">
    <Setter Property="Fill" Value="{StaticResource Brush_Rule}" />
    <Setter Property="Height" Value="1" />
    <Setter Property="Margin" Value="3" />
    <Setter Property="SnapsToDevicePixels" Value="True" />
  </Style>
  <Style x:Key="Rectangle_VerticalRule" TargetType="{x:Type Rectangle}">
    <Setter Property="Fill" Value="{StaticResource Brush_Rule}" />
    <Setter Property="Width" Value="1" />
    <Setter Property="Margin" Value="3" />
    <Setter Property="SnapsToDevicePixels" Value="True" />
  </Style>
  <Style x:Key="Rectangle_HorizontalRule_Gradient" TargetType="{x:Type Rectangle}">
    <Setter Property="Fill" Value="{StaticResource Brush_Rule_Gradient}" />
    <Setter Property="Height" Value="1" />
    <Setter Property="Margin" Value="0,5,0,5" />
    <Setter Property="SnapsToDevicePixels" Value="True" />
  </Style>

  <!-- Text styles -->
  <Style x:Key="Text_Headline" TargetType="{x:Type TextBlock}">
    <Setter Property="FontFamily" Value="Times New Roman" />
    <Setter Property="FontWeight" Value="Bold" />
    <Setter Property="FontSize" Value="{Binding Source={StaticResource LightSensorProvider}, Path=LuxValue, Converter={StaticResource LightLevelToFontSizeConverter}, ConverterParameter=12pt}" />
    <Setter Property="TextWrapping" Value="Wrap" />
    <Setter Property="Foreground" Value="{StaticResource Foreground_ContentTextDefault}" />
  </Style>
  <Style x:Key="Text_Headline_Left" TargetType="{x:Type TextBlock}" BasedOn="{StaticResource Text_Headline}">
    <Setter Property="FontFamily" Value="Calibri,Lucida Sans" />
    <Setter Property="FontWeight" Value="Bold" />
    <Setter Property="FontSize" Value="{Binding Source={StaticResource LightSensorProvider}, Path=LuxValue, Converter={StaticResource LightLevelToFontSizeConverter}, ConverterParameter=19pt}" />
    <Setter Property="LineHeight" Value="22" />
    <Setter Property="Foreground" Value="{StaticResource Foreground_ContentTextDefault}" />
  </Style>
  <Style x:Key="Text_Headline_Main" TargetType="{x:Type TextBlock}">
    <Setter Property="FontFamily" Value="Times New Roman" />
    <Setter Property="TextAlignment" Value="Center"/>
    <Setter Property="FontWeight" Value="Bold" />
    <Setter Property="FontSize" Value="{Binding Source={StaticResource LightSensorProvider}, Path=LuxValue, Converter={StaticResource LightLevelToFontSizeConverter}, ConverterParameter=24pt}" />
    <Setter Property="TextWrapping" Value="Wrap" />
    <Setter Property="Foreground" Value="{StaticResource Foreground_ContentTextDefault}" />
  </Style>
  <Style x:Key="Text_Abstract" TargetType="{x:Type TextBlock}">
    <Setter Property="FontFamily" Value="Georgia" />
    <Setter Property="FontSize" Value="{Binding Source={StaticResource LightSensorProvider}, Path=LuxValue, Converter={StaticResource LightLevelToFontSizeConverter}, ConverterParameter=10pt}" />
    <Setter Property="TextWrapping" Value="Wrap" />
    <Setter Property="IsHyphenationEnabled" Value="True" />
    <Setter Property="Foreground" Value="{StaticResource Foreground_ContentTextDefault}" />
  </Style>
  <Style x:Key="Text_Byline" TargetType="{x:Type TextBlock}">
    <Setter Property="FontFamily" Value="Verdana" />
    <Setter Property="FontSize" Value="{Binding Source={StaticResource LightSensorProvider}, Path=LuxValue, Converter={StaticResource LightLevelToFontSizeConverter}, ConverterParameter=8pt}" />
    <Setter Property="TextWrapping" Value="Wrap" />
    <Setter Property="Foreground" Value="{StaticResource Brush_Byline}" />
    <Setter Property="Typography.Capitals" Value="SmallCaps" />
    <Setter Property="Foreground" Value="{StaticResource Foreground_ContentTextDefault}" />
  </Style>
  <Style x:Key="Text_Kicker" TargetType="{x:Type TextBlock}">
    <Setter Property="FontFamily" Value="Verdana" />
    <Setter Property="FontSize" Value="{Binding Source={StaticResource LightSensorProvider}, Path=LuxValue, Converter={StaticResource LightLevelToFontSizeConverter}, ConverterParameter=8pt}" />
    <Setter Property="FontWeight" Value="Bold" />
    <Setter Property="Foreground" Value="{StaticResource Brush_Kicker}" />
    <Setter Property="Typography.Capitals" Value="SmallCaps" />
    <Setter Property="TextWrapping" Value="Wrap" />
  </Style>
  <Style x:Key="Text_PubDate" TargetType="{x:Type TextBlock}">
    <Setter Property="FontFamily" Value="Arial" />
    <Setter Property="FontSize" Value="{Binding Source={StaticResource LightSensorProvider}, Path=LuxValue, Converter={StaticResource LightLevelToFontSizeConverter}, ConverterParameter=9pt}" />
    <Setter Property="Foreground" Value="{StaticResource Brush_PubDate}" />
  </Style>
  <Style x:Key="Text_PhotoCredit" TargetType="{x:Type TextBlock}">
    <Setter Property="FontFamily" Value="Arial" />
    <Setter Property="FontSize" Value="{Binding Source={StaticResource LightSensorProvider}, Path=LuxValue, Converter={StaticResource LightLevelToFontSizeConverter}, ConverterParameter=8pt}" />
    <Setter Property="TextAlignment" Value="Right" />
    <Setter Property="Foreground" Value="{StaticResource Foreground_ContentTextDefault}" />
  </Style>
  <Style x:Key="Text_PhotoCaption" TargetType="{x:Type TextBlock}">
    <Setter Property="FontFamily" Value="Times New Roman" />
    <Setter Property="FontWeight" Value="Bold" />
    <Setter Property="FontSize" Value="{Binding Source={StaticResource LightSensorProvider}, Path=LuxValue, Converter={StaticResource LightLevelToFontSizeConverter}, ConverterParameter=10pt}" />
    <Setter Property="TextWrapping" Value="Wrap" />
    <Setter Property="IsHyphenationEnabled" Value="True" />
    <Setter Property="Foreground" Value="{StaticResource Foreground_ContentTextDefault}" />
  </Style>
  <Style x:Key="Text_FlowAbstract" TargetType="{x:Type FlowDocument}">
    <Setter Property="FontFamily" Value="Georgia" />
    <Setter Property="FontSize" Value="{Binding Source={StaticResource LightSensorProvider}, Path=LuxValue, Converter={StaticResource LightLevelToFontSizeConverter}, ConverterParameter=10pt}" />
    <Setter Property="TextAlignment" Value="Left" />
    <Setter Property="PagePadding" Value="0" />
    <Setter Property="IsHyphenationEnabled" Value="True" />
    <Setter Property="Foreground" Value="{StaticResource Foreground_ContentTextDefault}" />
  </Style>

  <!-- Highlights for story buttons -->
  
  <SolidColorBrush x:Key="Brush_Button_Border_Highlight" Color="#676767" />
  <SolidColorBrush x:Key="Brush_Button_Border_Focus" Color="DarkGray" />
  <LinearGradientBrush x:Key="Brush_Button_Highlight" StartPoint="0.5,0" EndPoint="0.5,1">
    <GradientStop Color="#FF41A5DE" Offset="0"/>
    <GradientStop Color="#FFC5E9FD" Offset="0.35"/>
    <GradientStop Color="#FFC5E9FD" Offset="0.8"/>
    <GradientStop Color="#FF41A5DE" Offset="1"/>
  </LinearGradientBrush>
  <LinearGradientBrush x:Key="Brush_Button_Focus" StartPoint="0.5,0" EndPoint="0.5,1">
    <GradientStop Color="#FF4DA7D8" Offset="0"/>
    <GradientStop Color="#FFEFFBFF" Offset="0.35"/>
    <GradientStop Color="#FFEFFBFF" Offset="0.79"/>
    <GradientStop Color="#FF59BAEF" Offset="0.99"/>
  </LinearGradientBrush>
  <LinearGradientBrush x:Key="Brush_Button_Pressed" StartPoint="0.5,0" EndPoint="0.5,1">
    <GradientStop Color="#FF37B7FF" Offset="0"/>
    <GradientStop Color="#FFD6E8F1" Offset="0.35"/>
    <GradientStop Color="#FFD6E8F1" Offset="0.8"/>
    <GradientStop Color="#FF41ABDE" Offset="1"/>
  </LinearGradientBrush>

  <!-- Buttons -->
  <Style x:Key="Button_Story" TargetType="{x:Type Button}">
    <Setter Property="Cursor" Value="Hand" />
    <Setter Property="Command" Value="{Binding Source={x:Static SceReader:ServiceProvider.ViewManager}, Path=NavigationCommands.NavigateToStoryRelativeCommand}" />
    <Setter Property="CommandParameter" Value="{Binding Path=.}" />
    <Setter Property="AutomationProperties.Name" Value="{Binding Path=Title}" />
    <Setter Property="FocusVisualStyle" Value="{x:Null}" />
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="{x:Type Button}">
          <Grid>
            <a:SystemDropShadowChrome x:Name="Shadow" Visibility="Collapsed" CornerRadius="5" Color="#71000000" />
            <Rectangle x:Name="Focus" Visibility="Collapsed" StrokeDashArray="2" SnapsToDevicePixels="True" RadiusX="4" RadiusY="4"
                       Stroke="{StaticResource Brush_Button_Border_Focus}" Fill="{StaticResource Brush_Button_Focus}" />
            <Rectangle x:Name="Highlight" Visibility="Collapsed" SnapsToDevicePixels="True" RadiusX="4" RadiusY="4"
                       Stroke="{StaticResource Brush_Button_Border_Highlight}" Fill="{StaticResource Brush_Button_Highlight}" />
            <Rectangle x:Name="Pressed" Visibility="Collapsed" SnapsToDevicePixels="True" RadiusX="4" RadiusY="4"
                       Stroke="{StaticResource Brush_Button_Border_Highlight}" Fill="{StaticResource Brush_Button_Pressed}" />
            <ContentPresenter Margin="3" />
          </Grid>
          <ControlTemplate.Triggers>
            <DataTrigger Binding="{Binding Path=HasMouseOver, RelativeSource={RelativeSource TemplatedParent}}" Value="True">
              <Setter Property="Visibility" Value="Visible" TargetName="Highlight"/>
              <Setter Property="Visibility" Value="Visible" TargetName="Shadow"/>
            </DataTrigger>
            <DataTrigger Binding="{Binding Path=HasKeyboardFocus, RelativeSource={RelativeSource TemplatedParent}}" Value="True">
              <Setter Property="Visibility" Value="Visible" TargetName="Focus"/>
            </DataTrigger>
            <Trigger Property="IsPressed" Value="True">
              <Setter Property="Visibility" Value="Visible" TargetName="Pressed"/>
              <Setter Property="Visibility" Value="Hidden" TargetName="Highlight"/>
              <Setter Property="Visibility" Value="Hidden" TargetName="Shadow"/>
            </Trigger>
          </ControlTemplate.Triggers>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>
  <Style x:Key="Button_MainStory" TargetType="{x:Type Button}">
    <Setter Property="Cursor" Value="Hand" />
    <Setter Property="Command" Value="{Binding Source={x:Static SceReader:ServiceProvider.ViewManager}, Path=NavigationCommands.NavigateToStoryRelativeCommand}" />
    <Setter Property="CommandParameter" Value="{Binding Path=.}" />
    <Setter Property="AutomationProperties.Name" Value="{Binding Path=Title}" />
    <Setter Property="FocusVisualStyle" Value="{x:Null}" />
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="{x:Type Button}">
          <Grid>
            <a:SystemDropShadowChrome x:Name="Shadow" Visibility="Collapsed" CornerRadius="5" Color="#71000000" />
            <Rectangle x:Name="Focus" Visibility="Collapsed" StrokeDashArray="2" SnapsToDevicePixels="True" RadiusX="4" RadiusY="4"
                       Stroke="{StaticResource Brush_Button_Border_Focus}" Fill="{StaticResource Brush_Button_Focus}" />
            <Rectangle x:Name="Highlight" Visibility="Collapsed" SnapsToDevicePixels="True" RadiusX="4" RadiusY="4"
                       Stroke="{StaticResource Brush_Button_Border_Highlight}" Fill="{StaticResource Brush_Button_Highlight}" />
            <Rectangle x:Name="Pressed" Visibility="Collapsed" SnapsToDevicePixels="True" RadiusX="4" RadiusY="4"
                       Stroke="{StaticResource Brush_Button_Border_Highlight}" Fill="{StaticResource Brush_Button_Pressed}" />
            <ContentPresenter Margin="3" />
          </Grid>
          <ControlTemplate.Triggers>
            <Trigger Property="IsMouseOver" Value="True">
              <Setter Property="Visibility" Value="Visible" TargetName="Highlight"/>
              <Setter Property="Visibility" Value="Visible" TargetName="Shadow"/>
            </Trigger>
            <Trigger Property="IsKeyboardFocused" Value="True">
              <Setter Property="Visibility" Value="Visible" TargetName="Focus"/>
            </Trigger>
            <Trigger Property="IsPressed" Value="True">
              <Setter Property="Visibility" Value="Visible" TargetName="Pressed"/>
              <Setter Property="Visibility" Value="Hidden" TargetName="Highlight"/>
              <Setter Property="Visibility" Value="Hidden" TargetName="Shadow"/>
            </Trigger>
          </ControlTemplate.Triggers>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>
  <Style x:Key="Button_Image" TargetType="{x:Type Button}">
    <Setter Property="Cursor" Value="Hand" />
    <Setter Property="Command" Value="{Binding Source={x:Static SceReader:ServiceProvider.ViewManager}, Path=NavigationCommands.NavigateToStoryRelativeCommand}" />
    <Setter Property="CommandParameter" Value="{Binding Path=Story}" />
    <Setter Property="AutomationProperties.Name" Value="{Binding Path=Caption}" />
    <Setter Property="FocusVisualStyle" Value="{x:Null}" />
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="{x:Type Button}">
          <Grid>
            <a:SystemDropShadowChrome x:Name="Shadow" Visibility="Collapsed" CornerRadius="5" Color="#71000000" />
            <Rectangle x:Name="Focus" Visibility="Collapsed" StrokeDashArray="2" SnapsToDevicePixels="True" RadiusX="4" RadiusY="4"
                       Stroke="{StaticResource Brush_Button_Border_Focus}" Fill="{StaticResource Brush_Button_Focus}" />
            <Rectangle x:Name="Highlight" Visibility="Collapsed" SnapsToDevicePixels="True" RadiusX="4" RadiusY="4"
                       Stroke="{StaticResource Brush_Button_Border_Highlight}" Fill="{StaticResource Brush_Button_Highlight}" />
            <Rectangle x:Name="Pressed" Visibility="Collapsed" SnapsToDevicePixels="True" RadiusX="4" RadiusY="4"
                       Stroke="{StaticResource Brush_Button_Border_Highlight}" Fill="{StaticResource Brush_Button_Pressed}" />
            <ContentPresenter Margin="3" />
          </Grid>
          <ControlTemplate.Triggers>
            <Trigger Property="IsMouseOver" Value="True">
              <Setter Property="Visibility" Value="Visible" TargetName="Highlight"/>
              <Setter Property="Visibility" Value="Visible" TargetName="Shadow"/>
            </Trigger>
            <Trigger Property="IsKeyboardFocused" Value="True">
              <Setter Property="Visibility" Value="Visible" TargetName="Focus"/>
            </Trigger>
            <Trigger Property="IsPressed" Value="True">
              <Setter Property="Visibility" Value="Visible" TargetName="Pressed"/>
              <Setter Property="Visibility" Value="Hidden" TargetName="Highlight"/>
              <Setter Property="Visibility" Value="Hidden" TargetName="Shadow"/>
            </Trigger>
          </ControlTemplate.Triggers>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>

  <!-- ImageControl -->
  <Style x:Key="ImageControl_Default" TargetType="{x:Type SceReaderControls:ImageControl}">
    <Setter Property="Focusable" Value="False" />
    <Setter Property="KeyboardNavigation.IsTabStop" Value="False" />
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="{x:Type SceReaderControls:ImageControl}">
          <local:StoryDragDropDecorator DataContext="{Binding Path=Story, RelativeSource={RelativeSource TemplatedParent}}">
          <StackPanel DataContext="{Binding Path=ImageReference, RelativeSource={RelativeSource TemplatedParent}}">
            <SceReaderControls:CommandButton Style="{StaticResource Button_Image}">
              <Button.ContextMenu>
                <ContextMenu>
                  <MenuItem Name="AddStoryMenuItem"
                            Header="Send Story to _Reading List"
                            Command="{Binding Source={x:Static SceReader:ServiceProvider.ViewManager}, Path=PersistenceCommands.AddStoryToReadingListCommand}"
                            CommandParameter="{Binding Path=Story}">
                  </MenuItem>
                  <MenuItem Name="PrintStoryMenuItem"
                            Header="_Print Story"
                            Command="{Binding Source={x:Static SceReader:ServiceProvider.ViewManager}, Path=PersistenceCommands.PrintStoryCommand}"
                            CommandParameter="{Binding Path=Story}"/>
                </ContextMenu>
              </Button.ContextMenu>
              <SceReaderControls:ViewportBox HorizontalAlignment="Center">
                <StackPanel>
                  <Image Source="{TemplateBinding ImageSource}" />
                  <TextBlock x:Name="Credit" Text="{Binding Credit}" Style="{StaticResource Text_PhotoCredit}" />
                  <TextBlock x:Name="Caption" Text="{Binding Caption}" Style="{StaticResource Text_PhotoCaption}" />
                </StackPanel>
              </SceReaderControls:ViewportBox>
            </SceReaderControls:CommandButton>
            <Rectangle Style="{StaticResource Rectangle_HorizontalRule}" />
          </StackPanel>
          </local:StoryDragDropDecorator>
          <ControlTemplate.Triggers>
            <Trigger Property="Text" Value="" SourceName="Credit">
              <Setter Property="Visibility" Value="Collapsed" TargetName="Credit"/>
            </Trigger>
            <Trigger Property="Text" Value="" SourceName="Caption">
              <Setter Property="Visibility" Value="Collapsed" TargetName="Caption"/>
            </Trigger>
          </ControlTemplate.Triggers>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
    <Style.Triggers>
      <Trigger Property="ImageSource" Value="{x:Null}">
        <Setter Property="Visibility" Value="Collapsed" />
      </Trigger>
    </Style.Triggers>
  </Style>

  <Style x:Key="ImageControl_Inline" TargetType="{x:Type SceReaderControls:ImageControl}">
    <Setter Property="Focusable" Value="False" />
    <Setter Property="KeyboardNavigation.IsTabStop" Value="False" />
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="{x:Type SceReaderControls:ImageControl}">
            <StackPanel DataContext="{Binding Path=ImageReference, RelativeSource={RelativeSource TemplatedParent}}">
              <SceReaderControls:ViewportBox HorizontalAlignment="Center">
                <Image Source="{TemplateBinding ImageSource}" Margin="3,0,3,0" />
              </SceReaderControls:ViewportBox>
            </StackPanel>
          <ControlTemplate.Triggers>
          </ControlTemplate.Triggers>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
    <Style.Triggers>
      <Trigger Property="ImageSource" Value="{x:Null}">
        <Setter Property="Visibility" Value="Collapsed" />
      </Trigger>
    </Style.Triggers>
  </Style>

  <!-- StoryAbstractControl -->
  <Style x:Key="StoryAbstract_Default" TargetType="{x:Type SceReaderControls:StoryAbstractControl}">
    <Setter Property="Focusable" Value="False" />
    <Setter Property="KeyboardNavigation.IsTabStop" Value="False" />
    <Setter Property="FontFamily" Value="Georgia" />
    <Setter Property="FontSize" Value="{Binding Source={StaticResource LightSensorProvider}, Path=LuxValue, Converter={StaticResource LightLevelToFontSizeConverter}, ConverterParameter=10pt}" />
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="{x:Type SceReaderControls:StoryAbstractControl}">
          <TextBlock Text="{Binding Description}" Style="{StaticResource Text_Abstract}" />
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>

  <!-- MainStoryControl -->
  <Style x:Key="MainStoryControl_Default" TargetType="{x:Type SceReaderControls:MainStoryControl}">
    <Setter Property="Stories" Value="{Binding Path=Section.Stories, RelativeSource={RelativeSource TemplatedParent}}" />
    <Setter Property="MainImageReference" Value="{Binding Path=Section.MainImageReference, RelativeSource={RelativeSource TemplatedParent}}" />
    <Setter Property="Focusable" Value="False" />
    <Setter Property="KeyboardNavigation.IsTabStop" Value="False" />
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="{x:Type SceReaderControls:MainStoryControl}">
          <local:StoryDragDropDecorator DataContext="{Binding Path=Story, RelativeSource={RelativeSource TemplatedParent}}">
            <StackPanel DataContext="{Binding Path=Story, RelativeSource={RelativeSource TemplatedParent}}">
            <SceReaderControls:CommandButton Style="{StaticResource Button_MainStory}">
              <Button.ContextMenu>
                <ContextMenu>
                  <MenuItem Name="AddStoryMenuItem"
                            Header="Send Story to _Reading List"
                            Command="{Binding Source={x:Static SceReader:ServiceProvider.ViewManager}, Path=PersistenceCommands.AddStoryToReadingListCommand}"
                            CommandParameter="{Binding Path=.}"/>
                  <MenuItem Name="PrintStoryMenuItem"
                            Header="_Print Story"
                            Command="{Binding Source={x:Static SceReader:ServiceProvider.ViewManager}, Path=PersistenceCommands.PrintStoryCommand}"
                            CommandParameter="{Binding Path=.}"/>
                </ContextMenu>
              </Button.ContextMenu>
              <SceReaderControls:ViewportBox HorizontalAlignment="Center">
                <StackPanel>
                  <StackPanel x:Name="ImageGroup" Margin="0,0,0,3" DataContext="{Binding Path=ImageReference, RelativeSource={RelativeSource TemplatedParent}}">
                    <Image Source="{TemplateBinding ImageSource}" />
                    <TextBlock x:Name="Credit" Text="{Binding Credit}" Style="{StaticResource Text_PhotoCredit}" />
                    <TextBlock x:Name="Caption" Text="{Binding Caption}" Style="{StaticResource Text_PhotoCaption}" />
                  </StackPanel>
                  <TextBlock x:Name="Kicker" Text="{Binding Path=Properties[Kicker]}" Margin="0,0,0,2" Style="{StaticResource Text_Kicker}" />
                  <TextBlock Text="{Binding Title}" Margin="0,0,0,2" Style="{StaticResource Text_Headline_Main}" />
                  <TextBlock x:Name="Byline" Text="{Binding Byline}" Margin="0,0,0,2" Style="{StaticResource Text_Byline}" />
                  <SceReaderControls:StoryAbstractControl DataContext="{Binding .}" Style="{StaticResource StoryAbstract_Default}" />
                </StackPanel>
              </SceReaderControls:ViewportBox>
            </SceReaderControls:CommandButton>
            <Rectangle Style="{StaticResource Rectangle_HorizontalRule}" />
          </StackPanel>
          </local:StoryDragDropDecorator>
          <ControlTemplate.Triggers>
            <Trigger Property="Text" Value="" SourceName="Credit">
              <Setter Property="Visibility" Value="Collapsed" TargetName="Credit"/>
            </Trigger>
            <Trigger Property="Text" Value="" SourceName="Caption">
              <Setter Property="Visibility" Value="Collapsed" TargetName="Caption"/>
            </Trigger>
            <Trigger Property="Text" Value="" SourceName="Byline">
              <Setter Property="Visibility" Value="Collapsed" TargetName="Byline"/>
            </Trigger>
            <Trigger Property="ImageSource" Value="{x:Null}">
              <Setter Property="Visibility" Value="Collapsed" TargetName="ImageGroup"/>
            </Trigger>
          </ControlTemplate.Triggers>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>
  <Style x:Key="MainStoryControl_TopHeadline" TargetType="{x:Type SceReaderControls:MainStoryControl}">
    <Setter Property="Stories" Value="{Binding Path=Section.Stories, RelativeSource={RelativeSource TemplatedParent}}" />
    <Setter Property="Focusable" Value="False" />
    <Setter Property="KeyboardNavigation.IsTabStop" Value="False" />
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="{x:Type SceReaderControls:MainStoryControl}">
          <local:StoryDragDropDecorator DataContext="{Binding Path=Story, RelativeSource={RelativeSource TemplatedParent}}">
            <StackPanel DataContext="{Binding Path=Story, RelativeSource={RelativeSource TemplatedParent}}">
            <SceReaderControls:CommandButton Style="{StaticResource Button_MainStory}">
              <Button.ContextMenu>
                <ContextMenu>
                  <MenuItem Name="AddStoryMenuItem"
                            Header="Send Story to _Reading List"
                            Command="{Binding Source={x:Static SceReader:ServiceProvider.ViewManager}, Path=PersistenceCommands.AddStoryToReadingListCommand}"
                            CommandParameter="{Binding Path=.}"/>
                  <MenuItem Name="PrintStoryMenuItem"
                            Header="_Print Story"
                            Command="{Binding Source={x:Static SceReader:ServiceProvider.ViewManager}, Path=PersistenceCommands.PrintStoryCommand}"
                            CommandParameter="{Binding Path=.}"/>
                </ContextMenu>
              </Button.ContextMenu>
              <SceReaderControls:ViewportBox HorizontalAlignment="Center">
                <StackPanel>
                  <TextBlock x:Name="Kicker" Text="{Binding Path=Properties[Kicker]}" Margin="0,0,0,2" Style="{StaticResource Text_Kicker}" />
                  <TextBlock Text="{Binding Title}" Style="{StaticResource Text_Headline_Main}" />
                  <TextBlock x:Name="Byline" Text="{Binding Byline}" Style="{StaticResource Text_Byline}" TextAlignment="Center" />
                  <!--<SceReaderControls:StoryAbstractControl x:Name="Abstract"  DataContext="{Binding .}" Style="{StaticResource StoryAbstract_Default}" />-->
                  <StackPanel x:Name="ImageGroup" Margin="0,0,0,3" DataContext="{Binding Path=ImageReference, RelativeSource={RelativeSource TemplatedParent}}">
                    <Image Source="{TemplateBinding ImageSource}" />
                    <TextBlock x:Name="Credit" Text="{Binding Credit}" Style="{StaticResource Text_PhotoCredit}" Visibility="Collapsed" />
                    <TextBlock x:Name="Caption" Text="{Binding Caption}" Style="{StaticResource Text_PhotoCaption}" />
                  </StackPanel>
                </StackPanel>
              </SceReaderControls:ViewportBox>
            </SceReaderControls:CommandButton>
            <Rectangle Style="{StaticResource Rectangle_HorizontalRule}">
            </Rectangle>
          </StackPanel>
          </local:StoryDragDropDecorator>
          <ControlTemplate.Triggers>
            <Trigger Property="Text" Value="" SourceName="Credit">
              <Setter Property="Visibility" Value="Collapsed" TargetName="Credit"/>
            </Trigger>
            <Trigger Property="Text" Value="" SourceName="Caption">
              <Setter Property="Visibility" Value="Collapsed" TargetName="Caption"/>
            </Trigger>
            <Trigger Property="Text" Value="" SourceName="Byline">
              <Setter Property="Visibility" Value="Collapsed" TargetName="Byline"/>
            </Trigger>
            <Trigger Property="ImageSource" Value="{x:Null}">
              <Setter Property="Visibility" Value="Collapsed" TargetName="ImageGroup"/>
            </Trigger>
          </ControlTemplate.Triggers>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>
  <Style x:Key="MainStoryControl_BigTopHeadline" TargetType="{x:Type SceReaderControls:MainStoryControl}">
    <Setter Property="Stories" Value="{Binding Path=Section.Stories, RelativeSource={RelativeSource TemplatedParent}}" />
    <Setter Property="Focusable" Value="False" />
    <Setter Property="KeyboardNavigation.IsTabStop" Value="False" />
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="{x:Type SceReaderControls:MainStoryControl}">
          <local:StoryDragDropDecorator DataContext="{Binding Path=Story, RelativeSource={RelativeSource TemplatedParent}}">
            <StackPanel DataContext="{Binding Path=Story, RelativeSource={RelativeSource TemplatedParent}}">
            <SceReaderControls:CommandButton Style="{StaticResource Button_MainStory}">
              <Button.ContextMenu>
                <ContextMenu>
                  <MenuItem Name="AddStoryMenuItem"
                            Header="Send Story to _Reading List"
                            Command="{Binding Source={x:Static SceReader:ServiceProvider.ViewManager}, Path=PersistenceCommands.AddStoryToReadingListCommand}"
                            CommandParameter="{Binding Path=.}"/>
                  <MenuItem Name="PrintStoryMenuItem"
                            Header="_Print Story"
                            Command="{Binding Source={x:Static SceReader:ServiceProvider.ViewManager}, Path=PersistenceCommands.PrintStoryCommand}"
                            CommandParameter="{Binding Path=.}"/>
                </ContextMenu>
              </Button.ContextMenu>
              <SceReaderControls:ViewportBox HorizontalAlignment="Center">
                <StackPanel>
                  <TextBlock x:Name="Kicker" Text="{Binding Path=Properties[Kicker]}" Margin="0,0,0,2" Style="{StaticResource Text_Kicker}" />
                  <TextBlock 
                    Text="{Binding Title}" 
                    Style="{StaticResource Text_Headline_Main}" 
                    FontSize="{Binding Source={StaticResource LightSensorProvider}, Path=LuxValue, Converter={StaticResource LightLevelToFontSizeConverter}, ConverterParameter=50pt}"
                    />
                  <TextBlock x:Name="Byline" Text="{Binding Byline}" Style="{StaticResource Text_Byline}"  />
                  <!--<SceReaderControls:StoryAbstractControl x:Name="Abstract"  DataContext="{Binding .}" Style="{StaticResource StoryAbstract_Default}" />-->
                  <StackPanel x:Name="ImageGroup" Margin="0,0,0,3" DataContext="{Binding Path=ImageReference, RelativeSource={RelativeSource TemplatedParent}}">
                    <Image Source="{TemplateBinding ImageSource}" />
                    <TextBlock x:Name="Credit" Text="{Binding Credit}" Style="{StaticResource Text_PhotoCredit}" Visibility="Collapsed" />
                    <TextBlock 
                      x:Name="Caption" Text="{Binding Caption}" 
                      Style="{StaticResource Text_PhotoCaption}" 
                      FontSize="{Binding Source={StaticResource LightSensorProvider}, Path=LuxValue, Converter={StaticResource LightLevelToFontSizeConverter}, ConverterParameter=15pt}"
                      />
                  </StackPanel>
                </StackPanel>
              </SceReaderControls:ViewportBox>
            </SceReaderControls:CommandButton>
            <Rectangle Style="{StaticResource Rectangle_HorizontalRule}">
            </Rectangle>
          </StackPanel>
          </local:StoryDragDropDecorator>
          <ControlTemplate.Triggers>
            <Trigger Property="Text" Value="" SourceName="Credit">
              <Setter Property="Visibility" Value="Collapsed" TargetName="Credit"/>
            </Trigger>
            <Trigger Property="Text" Value="" SourceName="Caption">
              <Setter Property="Visibility" Value="Collapsed" TargetName="Caption"/>
            </Trigger>
            <Trigger Property="Text" Value="" SourceName="Byline">
              <Setter Property="Visibility" Value="Collapsed" TargetName="Byline"/>
            </Trigger>
            <Trigger Property="ImageSource" Value="{x:Null}">
              <Setter Property="Visibility" Value="Collapsed" TargetName="ImageGroup"/>
            </Trigger>
          </ControlTemplate.Triggers>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>
  <Style x:Key="MainStoryControl_Inline" TargetType="{x:Type SceReaderControls:MainStoryControl}">
    <Setter Property="Stories" Value="{Binding Path=Section.Stories, RelativeSource={RelativeSource TemplatedParent}}" />
    <Setter Property="Focusable" Value="False" />
    <Setter Property="KeyboardNavigation.IsTabStop" Value="False" />
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="{x:Type SceReaderControls:MainStoryControl}">
          <local:StoryDragDropDecorator DataContext="{Binding Path=Story, RelativeSource={RelativeSource TemplatedParent}}">
            <StackPanel DataContext="{Binding Path=Story, RelativeSource={RelativeSource TemplatedParent}}">
              <SceReaderControls:CommandButton Style="{StaticResource Button_MainStory}">
                <Button.ContextMenu>
                  <ContextMenu>
                    <MenuItem Name="AddStoryMenuItem"
                              Header="Send Story to _Reading List"
                              Command="{Binding Source={x:Static SceReader:ServiceProvider.ViewManager}, Path=PersistenceCommands.AddStoryToReadingListCommand}"
                              CommandParameter="{Binding Path=.}"/>
                    <MenuItem Name="PrintStoryMenuItem"
                              Header="_Print Story"
                              Command="{Binding Source={x:Static SceReader:ServiceProvider.ViewManager}, Path=PersistenceCommands.PrintStoryCommand}"
                              CommandParameter="{Binding Path=.}"/>
                  </ContextMenu>
                </Button.ContextMenu>
                <StackPanel>
                  <TextBlock x:Name="Kicker" Text="{Binding Path=Properties[Kicker]}" Margin="0,0,0,2" Style="{StaticResource Text_Kicker}" />
                  <TextBlock Text="{Binding Title}" Style="{StaticResource Text_Headline_Main}"
                             FontSize="{Binding Source={StaticResource LightSensorProvider}, Path=LuxValue, Converter={StaticResource LightLevelToFontSizeConverter}, ConverterParameter=34pt}"
                             TextAlignment="Left" />
                  <TextBlock x:Name="Byline" Text="{Binding Byline}" Style="{StaticResource Text_Byline}" />
                  <TextBlock Text="{Binding Description}" Style="{StaticResource Text_Abstract}" 
                             FontSize="{Binding Source={StaticResource LightSensorProvider}, Path=LuxValue, Converter={StaticResource LightLevelToFontSizeConverter}, ConverterParameter=16pt}"
                             />
                </StackPanel>
              </SceReaderControls:CommandButton>
              <Rectangle Style="{StaticResource Rectangle_HorizontalRule}">
              </Rectangle>
            </StackPanel>
          </local:StoryDragDropDecorator>
          <ControlTemplate.Triggers>
            <Trigger Property="Text" Value="" SourceName="Byline">
              <Setter Property="Visibility" Value="Collapsed" TargetName="Byline"/>
            </Trigger>
          </ControlTemplate.Triggers>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>

  <Style x:Key="FDSV_NoChrome" TargetType="{x:Type FlowDocumentScrollViewer}">
    <Setter Property="HorizontalScrollBarVisibility" Value="Disabled" />
    <Setter Property="VerticalScrollBarVisibility" Value="Disabled" />
    <Setter Property="IsEnabled" Value="False" />
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="{x:Type FlowDocumentScrollViewer}">
          <ScrollViewer x:Name="PART_ContentHost" />
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>
  <ControlTemplate x:Key="StoryAbstract_ThumbnailImage" TargetType="{x:Type SceReaderControls:StoryAbstractControl}">
    <FlowDocumentScrollViewer x:Name="PART_Viewer" Style="{StaticResource FDSV_NoChrome}">
      <FlowDocument Style="{StaticResource Text_FlowAbstract}">
        <Paragraph Margin="0" LineHeight="0.01">
          <Figure x:Name="Figure" HorizontalAnchor="PageLeft" VerticalAnchor="PageTop" Margin="0,2,3,0" Padding="0" Width="57" Height="57" >
            <BlockUIContainer>
              <Image Stretch="Uniform"  Width="57" Height="57" Source="{TemplateBinding ImageSource}" />
            </BlockUIContainer>
          </Figure>
        </Paragraph>
        <Paragraph Margin="0">
          <SceReaderControls:BindableRun Content="{Binding Description}" />
        </Paragraph>
      </FlowDocument>
    </FlowDocumentScrollViewer>
  </ControlTemplate>
  <Style x:Key="StoryAbstract_ThumbnailEnabled" TargetType="{x:Type SceReaderControls:StoryAbstractControl}">
    <Setter Property="Focusable" Value="False" />
    <Setter Property="KeyboardNavigation.IsTabStop" Value="False" />
    <Setter Property="FontFamily" Value="Georgia" />
    <Setter Property="FontSize" Value="{Binding Source={StaticResource LightSensorProvider}, Path=LuxValue, Converter={StaticResource LightLevelToFontSizeConverter}, ConverterParameter=10pt}" />
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="{x:Type SceReaderControls:StoryAbstractControl}">
          <TextBlock Text="{Binding Description}" Style="{StaticResource Text_Abstract}" />
        </ControlTemplate>
      </Setter.Value>
    </Setter>
    <Style.Triggers>
      <Trigger Property="HasThumbnailImage" Value="True">
        <Setter Property="Template" Value="{StaticResource StoryAbstract_ThumbnailImage}" />
      </Trigger>
    </Style.Triggers>
  </Style>

  <!-- StoryControl -->
  <Style x:Key="StoryControl_Default" TargetType="{x:Type SceReaderControls:StoryControl}">
    <Setter Property="Focusable" Value="False" />
    <Setter Property="KeyboardNavigation.IsTabStop" Value="False" />
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="{x:Type SceReaderControls:StoryControl}">
          <local:StoryDragDropDecorator>
            <SceReaderControls:CommandButton Style="{StaticResource Button_Story}">
              <Button.ContextMenu>
                <ContextMenu>
                  <MenuItem Name="AddStoryMenuItem"
                            Header="Send Story to _Reading List"
                            Command="{Binding Source={x:Static SceReader:ServiceProvider.ViewManager}, Path=PersistenceCommands.AddStoryToReadingListCommand}"
                            CommandParameter="{Binding Path=.}"/>
                  <MenuItem Name="PrintStoryMenuItem"
                            Header="_Print Story"
                            Command="{Binding Source={x:Static SceReader:ServiceProvider.ViewManager}, Path=PersistenceCommands.PrintStoryCommand}"
                            CommandParameter="{Binding Path=.}"/>
                </ContextMenu>
              </Button.ContextMenu>
              <StackPanel x:Name="Content">
                <TextBlock x:Name="Kicker" Text="{Binding Path=Properties[Kicker]}" Margin="0,0,0,2" Style="{StaticResource Text_Kicker}" />
                <TextBlock Text="{Binding Title}" Margin="0,0,0,2" Style="{StaticResource Text_Headline}" />
                <TextBlock x:Name="Byline" Text="{Binding Byline}" Margin="0,0,0,2" Style="{StaticResource Text_Byline}" />
                <SceReaderControls:StoryAbstractControl Style="{StaticResource StoryAbstract_ThumbnailEnabled}" />
              </StackPanel>
            </SceReaderControls:CommandButton>
          </local:StoryDragDropDecorator>
          <ControlTemplate.Triggers>
            <Trigger Property="Text" Value="" SourceName="Byline">
              <Setter Property="Visibility" Value="Collapsed" TargetName="Byline"/>
            </Trigger>
            <Trigger Property="Text" Value="" SourceName="Kicker">
              <Setter Property="Visibility" Value="Collapsed" TargetName="Kicker"/>
            </Trigger>
            <DataTrigger Binding="{Binding Path=Read}" Value="True">
              <Setter Property="Opacity" Value="0.6" TargetName="Content"/>
            </DataTrigger>
          </ControlTemplate.Triggers>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>

  <Style x:Key="StoryControl_Left" TargetType="{x:Type SceReaderControls:StoryControl}">
    <Setter Property="Focusable" Value="False" />
    <Setter Property="KeyboardNavigation.IsTabStop" Value="False" />
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="{x:Type SceReaderControls:StoryControl}">
          <local:StoryDragDropDecorator>
            <SceReaderControls:CommandButton Style="{StaticResource Button_Story}">
              <Button.ContextMenu>
                <ContextMenu>
                  <MenuItem Name="AddStoryMenuItem"
                            Header="_Send Story to Reading List"
                            Command="{Binding Source={x:Static SceReader:ServiceProvider.ViewManager}, Path=PersistenceCommands.AddStoryToReadingListCommand}"
                            CommandParameter="{Binding Path=.}"/>
                  <MenuItem Name="PrintStoryMenuItem"
                            Header="_Print Story"
                            Command="{Binding Source={x:Static SceReader:ServiceProvider.ViewManager}, Path=PersistenceCommands.PrintStoryCommand}"
                            CommandParameter="{Binding Path=.}"/>
                </ContextMenu>
              </Button.ContextMenu>
              <StackPanel x:Name="Content">
                <TextBlock x:Name="Kicker" Text="{Binding Path=Properties[Kicker]}" Margin="0,0,0,2" Style="{StaticResource Text_Kicker}" />
                <TextBlock Text="{Binding Title}" Margin="0,0,0,2" Style="{StaticResource Text_Headline_Left}" />
                <TextBlock x:Name="Byline" Text="{Binding Byline}" Margin="0,0,0,2" Style="{StaticResource Text_Byline}" />
                <SceReaderControls:StoryAbstractControl Style="{StaticResource StoryAbstract_ThumbnailEnabled}" />
              </StackPanel>
            </SceReaderControls:CommandButton>
          </local:StoryDragDropDecorator>
          <ControlTemplate.Triggers>
            <Trigger Property="Text" Value="" SourceName="Byline">
              <Setter Property="Visibility" Value="Collapsed" TargetName="Byline"/>
            </Trigger>
            <Trigger Property="Text" Value="" SourceName="Kicker">
              <Setter Property="Visibility" Value="Collapsed" TargetName="Kicker"/>
            </Trigger>
            <DataTrigger Binding="{Binding Path=Read}" Value="True">
              <Setter Property="Opacity" Value="0.6" TargetName="Content"/>
            </DataTrigger>
          </ControlTemplate.Triggers>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>

  <Style x:Key="StoryAbstract_WithImage" TargetType="{x:Type SceReaderControls:StoryAbstractControl}">
    <Setter Property="Focusable" Value="False" />
    <Setter Property="KeyboardNavigation.IsTabStop" Value="False" />
    <Setter Property="FontFamily" Value="Georgia" />
    <Setter Property="FontSize" Value="{Binding Source={StaticResource LightSensorProvider}, Path=LuxValue, Converter={StaticResource LightLevelToFontSizeConverter}, ConverterParameter=10pt}" />
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="{x:Type SceReaderControls:StoryAbstractControl}">
            <StackPanel>
              <SceReaderControls:ImageControl x:Name="StoryImage"  Grid.Row="0" Style="{StaticResource ImageControl_Inline}" ImageReference="{Binding .,Converter={StaticResource BestImageConverter}}" Story="{Binding .}" />
              <!--<SceReaderControls:ImageControl x:Name="StoryImage"  Grid.Row="0" Style="{StaticResource ImageControl_Inline}" ImageReference="{Binding .,Converter={StaticResource BestImageConverter}}" Story="{Binding .}" Width="100" Height="50" />-->
              <TextBlock x:Name="AbstractText" Text="{Binding Description}" Style="{StaticResource Text_Abstract}" Visibility="Collapsed" />
              <!--<TextBlock x:Name="AbstractText" Text="{Binding Description}" Style="{StaticResource Text_Abstract}" />-->
            </StackPanel>
          <ControlTemplate.Triggers>
            <Trigger Property="ImageReference" Value="{x:Null}"  SourceName="StoryImage">
              <Setter Property="Visibility" Value="Collapsed" TargetName="StoryImage"/>
              <Setter Property="Visibility" Value="Visible" TargetName="AbstractText"/>
            </Trigger>
          </ControlTemplate.Triggers>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
    <Style.Triggers>

    </Style.Triggers>
  </Style>

  <Style x:Key="StoryControl_WithImage2" TargetType="{x:Type SceReaderControls:StoryControl}">
    <Setter Property="Focusable" Value="False" />
    <Setter Property="KeyboardNavigation.IsTabStop" Value="False" />
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="{x:Type SceReaderControls:StoryControl}">
          <local:StoryDragDropDecorator>
            <SceReaderControls:CommandButton Style="{StaticResource Button_Story}">
              <Button.ContextMenu>
                <ContextMenu>
                  <MenuItem Name="AddStoryMenuItem"
                            Header="Send Story to _Reading List"
                            Command="{Binding Source={x:Static SceReader:ServiceProvider.ViewManager}, Path=PersistenceCommands.AddStoryToReadingListCommand}"
                            CommandParameter="{Binding Path=.}"/>
                  <MenuItem Name="PrintStoryMenuItem"
                            Header="_Print Story"
                            Command="{Binding Source={x:Static SceReader:ServiceProvider.ViewManager}, Path=PersistenceCommands.PrintStoryCommand}"
                            CommandParameter="{Binding Path=.}"/>
                </ContextMenu>
              </Button.ContextMenu>
              <StackPanel x:Name="Content">
                <TextBlock x:Name="Kicker" Text="{Binding Path=Properties[Kicker]}" Margin="0,0,0,2" Style="{StaticResource Text_Kicker}" />
                <TextBlock Text="{Binding Title}" Margin="0,0,0,2" Style="{StaticResource Text_Headline}" />
                <TextBlock x:Name="Byline" Text="{Binding Byline}" Margin="0,0,0,2" Style="{StaticResource Text_Byline}" />
                <SceReaderControls:StoryAbstractControl x:Name="AbstractText" Style="{StaticResource StoryAbstract_WithImage}"  />
              </StackPanel>
            </SceReaderControls:CommandButton>
          </local:StoryDragDropDecorator>
          <ControlTemplate.Triggers>
            <Trigger Property="Text" Value="" SourceName="Byline">
              <Setter Property="Visibility" Value="Collapsed" TargetName="Byline"/>
            </Trigger>
            <!--<Trigger Property="ImageReference" Value="{x:Null}"  SourceName="StoryImage">
              <Setter Property="Visibility" Value="Collapsed" TargetName="StoryImage"/>
              <Setter Property="Visibility" Value="Visible" TargetName="AbstractText"/>
            </Trigger>-->
            <DataTrigger Binding="{Binding Path=Read}" Value="True">
              <Setter Property="Opacity" Value="0.8" TargetName="Content"/>
            </DataTrigger>
          </ControlTemplate.Triggers>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>

  <!-- Control Template : StoryControl -->
  <Style x:Key="StoryTemplate_Default" TargetType="{x:Type Control}">
    <Setter Property="Focusable" Value="False" />
    <Setter Property="KeyboardNavigation.IsTabStop" Value="False" />
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="{x:Type Control}">
          <SceReaderControls:StoryControl Style="{StaticResource StoryControl_Default}" />
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>
  <Style x:Key="StoryTemplate_LeftCol" TargetType="{x:Type Control}">
    <Setter Property="Focusable" Value="False" />
    <Setter Property="KeyboardNavigation.IsTabStop" Value="False" />
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="{x:Type Control}">
          <SceReaderControls:StoryControl Style="{StaticResource StoryControl_Left}" />
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>
  <Style x:Key="StoryTemplate_WithImage" TargetType="{x:Type Control}">
    <Setter Property="Focusable" Value="False" />
    <Setter Property="KeyboardNavigation.IsTabStop" Value="False" />
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="{x:Type Control}">
          <SceReaderControls:StoryControl Style="{StaticResource StoryControl_WithImage2}" />
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>

  <Style x:Key="Rectangle_HorizontalRule_Hard" TargetType="{x:Type Rectangle}">
    <Setter Property="Fill" Value="{StaticResource Brush_Rule}" />
    <Setter Property="Height" Value="1" />
    <Setter Property="Margin" Value="3" />
    <Setter Property="SnapsToDevicePixels" Value="True" />
  </Style>

  <!-- Control Template : Separator -->
  <Style x:Key="SeparatorTemplate_Default" TargetType="{x:Type Control}">
    <Setter Property="Focusable" Value="False" />
    <Setter Property="KeyboardNavigation.IsTabStop" Value="False" />
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="{x:Type Control}">
          <Rectangle Style="{StaticResource Rectangle_HorizontalRule_Gradient}" />
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>

  <Style x:Key="SeparatorTemplate_Hard" TargetType="{x:Type Control}">
    <Setter Property="Focusable" Value="False" />
    <Setter Property="KeyboardNavigation.IsTabStop" Value="False" />
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="{x:Type Control}">
          <Rectangle Style="{StaticResource Rectangle_HorizontalRule_Hard}" />
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>

  <!-- StoryListPresenter -->
  <Style x:Key="StoryListPresenter_Default" TargetType="{x:Type SceReaderControls:StoryListPresenter}">
    <Setter Property="Stories" Value="{Binding Path=Section.Stories, RelativeSource={RelativeSource TemplatedParent}}" />
    <Setter Property="StoryTemplate" Value="{StaticResource StoryTemplate_Default}" />
    <Setter Property="SeparatorTemplate" Value="{StaticResource SeparatorTemplate_Default}" />
    <Setter Property="StoryClipAdjustment" Value="0,0,4,4" />
  </Style>

  <!-- SectionFrontControl Templates: Each on of these ControlTemplates defines the appearance of the section
  view. Only one of these templates is displayed at a time. Templates are selected based on the size of the
  SectionFrontControl (see SizeControlTemplateCollection's below ) as well as based on properties of the 
  Section (see the Style defined for the SectionFrontControl below)-->
  <ControlTemplate x:Key="SectionFront_1Col" TargetType="{x:Type SceReaderControls:SectionFrontControl}">
    <Grid>
      <Grid.RowDefinitions>
        <RowDefinition Height="Auto"/>
        <RowDefinition Height="*"/>
      </Grid.RowDefinitions>
      <SceReaderControls:ImageControl Grid.Row="0" Style="{StaticResource ImageControl_Default}" ImageReference="{Binding Path=MainImageReference}" Story="{Binding Path=MainImageReference.Story}" />
      <SceReaderControls:StoryListPresenter Grid.Row="1" Style="{StaticResource StoryListPresenter_Default}" />
    </Grid>
  </ControlTemplate>
  <ControlTemplate x:Key="SectionFront_1Col_Wide_MainStory" TargetType="{x:Type SceReaderControls:SectionFrontControl}">
    <Grid>
      <Grid.RowDefinitions>
        <RowDefinition Height="Auto"/>
        <RowDefinition Height="*"/>
      </Grid.RowDefinitions>
      <SceReaderControls:MainStoryControl Grid.Row="0" x:Name="MainStory1" Style="{StaticResource MainStoryControl_Default}" />
      <SceReaderControls:StoryListPresenter Grid.Row="1" x:Name="Presenter1" Style="{StaticResource StoryListPresenter_Default}" LinkTo="{Binding ElementName='MainStory1'}" />
    </Grid>
  </ControlTemplate>
  <ControlTemplate x:Key="SectionFront_1Col_Portrait" TargetType="{x:Type SceReaderControls:SectionFrontControl}">
    <SceReaderControls:StoryListPresenter Style="{StaticResource StoryListPresenter_Default}"/>
  </ControlTemplate>

  <ControlTemplate x:Key="SectionFront_2Col" TargetType="{x:Type SceReaderControls:SectionFrontControl}">
    <Grid>
      <Grid.RowDefinitions>
        <RowDefinition Height="Auto"/>
        <RowDefinition Height="*"/>
      </Grid.RowDefinitions>
      <SceReaderControls:MainStoryControl Grid.Row="0" x:Name="MainStory1" Style="{StaticResource MainStoryControl_Inline}" />
      <Grid Grid.Row="1">
        <Grid.ColumnDefinitions>
          <ColumnDefinition Width="*"/>
          <ColumnDefinition Width="Auto"/>
          <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>
        <SceReaderControls:StoryListPresenter Grid.Column="0" x:Name="Presenter1" Style="{StaticResource StoryListPresenter_Default}" LinkTo="{Binding ElementName='MainStory1'}" IsStoryContinuationEnabled="False"/>
        <Rectangle Grid.Column="1" Style="{StaticResource Rectangle_VerticalRule}" />
        <SceReaderControls:StoryListPresenter Grid.Column="2" x:Name="Presenter2" Style="{StaticResource StoryListPresenter_Default}" LinkTo="{Binding ElementName='Presenter1'}" IsStoryContinuationEnabled="False"/>
      </Grid>
    </Grid>
  </ControlTemplate>
  <ControlTemplate x:Key="SectionFront_2Col_Tall" TargetType="{x:Type SceReaderControls:SectionFrontControl}">
    <Grid >
      <Grid.RowDefinitions>
        <RowDefinition Height="Auto"/>
        <RowDefinition Height="*"/>
        <RowDefinition Height="Auto"/>
      </Grid.RowDefinitions>
      <SceReaderControls:MainStoryControl Grid.Row="0" x:Name="MainStory1" Style="{StaticResource MainStoryControl_Inline}" />
      <SceReaderControls:ImageControl Grid.Row="2" Style="{StaticResource ImageControl_Default}" ImageReference="{Binding Path=MainImageReference}" Story="{Binding Path=MainImageReference.Story}" />
      <Grid Grid.Row="1">
        <Grid.ColumnDefinitions>
          <ColumnDefinition Width="*"/>
          <ColumnDefinition Width="Auto"/>
          <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>
        <SceReaderControls:StoryListPresenter Grid.Column="0" x:Name="Presenter1" Style="{StaticResource StoryListPresenter_Default}" LinkTo="{Binding ElementName='MainStory1'}" IsStoryContinuationEnabled="False"/>
        <Rectangle Grid.Column="1" Style="{StaticResource Rectangle_VerticalRule}" />
        <SceReaderControls:StoryListPresenter Grid.Column="2" x:Name="Presenter2" Style="{StaticResource StoryListPresenter_Default}" LinkTo="{Binding ElementName='Presenter1'}" IsStoryContinuationEnabled="False"/>
      </Grid>
    </Grid>
  </ControlTemplate>
  <ControlTemplate x:Key="SectionFront_2Col_Wide_MainStory" TargetType="{x:Type SceReaderControls:SectionFrontControl}">
    <Grid x:Name="MainGrid">
      <Grid.ColumnDefinitions>
        <ColumnDefinition Width="*"/>
        <ColumnDefinition Width="Auto"/>
        <ColumnDefinition Width="*"/>
      </Grid.ColumnDefinitions>
      <Grid.RowDefinitions>
        <RowDefinition Height="Auto"/>
        <RowDefinition Height="Auto" />
        <RowDefinition Height="*"/>
      </Grid.RowDefinitions>
      <SceReaderControls:MainStoryControl Grid.Column="0" Grid.Row="0" Grid.ColumnSpan="3" x:Name="MainStory1" Style="{StaticResource MainStoryControl_TopHeadline}" />
      <Grid Grid.Column="0" Grid.ColumnSpan="3" Grid.Row="2" Margin="0,5,0,0">
        <Grid.ColumnDefinitions>
          <ColumnDefinition Width="*"/>
          <ColumnDefinition Width="Auto"/>
          <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>
        <SceReaderControls:StoryListPresenter Grid.Column="0" x:Name="Presenter1" Style="{StaticResource StoryListPresenter_Default}" IsStoryContinuationEnabled="False" LinkTo="{Binding ElementName='MainStory1'}" />
        <Rectangle Grid.Column="1" Style="{StaticResource Rectangle_VerticalRule}"/>
        <SceReaderControls:StoryListPresenter Grid.Column="2" x:Name="Presenter2" Style="{StaticResource StoryListPresenter_Default}" IsStoryContinuationEnabled="False" LinkTo="{Binding ElementName='Presenter1'}" />
      </Grid>
    </Grid>
  </ControlTemplate>
  <ControlTemplate x:Key="SectionFront_2Col_Portrait" TargetType="{x:Type SceReaderControls:SectionFrontControl}">
    <Grid>
      <Grid.ColumnDefinitions>
        <ColumnDefinition Width="*"/>
        <ColumnDefinition Width="Auto"/>
        <ColumnDefinition Width="*"/>
      </Grid.ColumnDefinitions>
      <Grid.RowDefinitions>
        <RowDefinition Height="Auto"/>
        <RowDefinition Height="*"/>
      </Grid.RowDefinitions>
      <SceReaderControls:MainStoryControl Grid.Column="0" Grid.Row="0" Grid.ColumnSpan="3" x:Name="MainStory1" Style="{StaticResource MainStoryControl_Inline}" />
      <SceReaderControls:StoryListPresenter Grid.Column="0" Grid.Row="1" x:Name="Presenter1" Style="{StaticResource StoryListPresenter_Default}" LinkTo="{Binding ElementName='MainStory1'}" />
      <Rectangle Grid.Column="1" Grid.Row="1" Style="{StaticResource Rectangle_VerticalRule}" />
      <SceReaderControls:StoryListPresenter Grid.Column="2" Grid.Row="1" x:Name="Presenter2" Style="{StaticResource StoryListPresenter_Default}" LinkTo="{Binding ElementName='Presenter1'}" />
    </Grid>
  </ControlTemplate>

  <ControlTemplate x:Key="SectionFront_3Col" TargetType="{x:Type SceReaderControls:SectionFrontControl}">
    <Grid>
      <Grid.ColumnDefinitions>
        <ColumnDefinition Width="1.25*"/>
        <ColumnDefinition Width="Auto"/>
        <ColumnDefinition Width="*"/>
        <ColumnDefinition Width="Auto"/>
        <ColumnDefinition Width="*"/>
        <ColumnDefinition Width="Auto"/>
        <ColumnDefinition Width="*"/>
      </Grid.ColumnDefinitions>
      <Grid.RowDefinitions>
        <RowDefinition Height="Auto"/>
        <RowDefinition Height="*"/>
      </Grid.RowDefinitions>
      <SceReaderControls:ImageControl Grid.Column="4" Grid.Row="0" Grid.ColumnSpan="3" Style="{StaticResource ImageControl_Default}" ImageReference="{Binding Path=MainImageReference}" Story="{Binding Path=MainImageReference.Story}"/>
      <Grid Grid.Column="0" Grid.Row="0" Grid.RowSpan="2">
        <Grid.RowDefinitions>
          <RowDefinition Height="Auto"/>
          <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        <SceReaderControls:MainStoryControl Grid.Row="0" x:Name="MainStory1" Style="{StaticResource MainStoryControl_Inline}" />
        <SceReaderControls:StoryListPresenter Grid.Row="1" x:Name="Presenter1" Style="{StaticResource StoryListPresenter_Default}" LinkTo="{Binding ElementName='MainStory1'}" StoryTemplate="{StaticResource StoryTemplate_LeftCol}" IsStoryContinuationEnabled="False"/>
      </Grid>
      <Rectangle Grid.Column="1" Grid.Row="0" Grid.RowSpan="2" Style="{StaticResource Rectangle_VerticalRule}" />
      <SceReaderControls:StoryListPresenter Grid.Column="2" Grid.Row="0" Grid.RowSpan="2" x:Name="Presenter2" Style="{StaticResource StoryListPresenter_Default}" LinkTo="{Binding ElementName='Presenter1'}" IsStoryContinuationEnabled="False"/>
      <Rectangle Grid.Column="3" Grid.Row="0" Grid.RowSpan="2" Style="{StaticResource Rectangle_VerticalRule}" />
      <SceReaderControls:StoryListPresenter Grid.Column="4" Grid.Row="1" x:Name="Presenter3" Style="{StaticResource StoryListPresenter_Default}" LinkTo="{Binding ElementName='Presenter2'}" />
      <Rectangle Grid.Column="5" Grid.Row="1" Style="{StaticResource Rectangle_VerticalRule}" />
      <SceReaderControls:StoryListPresenter Grid.Column="6" Grid.Row="1" x:Name="Presenter4" Style="{StaticResource StoryListPresenter_Default}" LinkTo="{Binding ElementName='Presenter3'}" />
    </Grid>
  </ControlTemplate>
  <ControlTemplate x:Key="SectionFront_3Col_Wide_MainStory" TargetType="{x:Type SceReaderControls:SectionFrontControl}">
    <Grid x:Name="MainGrid">
      <Grid.ColumnDefinitions>
        <ColumnDefinition Width="*"/>
        <ColumnDefinition Width="Auto"/>
        <ColumnDefinition Width="*"/>
        <ColumnDefinition Width="Auto"/>
        <ColumnDefinition Width="*"/>
      </Grid.ColumnDefinitions>
      <Grid.RowDefinitions>
        <RowDefinition Height="Auto"/>
        <RowDefinition Height="Auto" />
        <RowDefinition Height="*"/>
      </Grid.RowDefinitions>
      <SceReaderControls:MainStoryControl Grid.Column="2" Grid.Row="0" Grid.ColumnSpan="3" x:Name="MainStory1" Style="{StaticResource MainStoryControl_TopHeadline}" />
      <SceReaderControls:StoryListPresenter Grid.Column="0" Grid.Row="0" Grid.RowSpan="3" x:Name="Presenter1" Style="{StaticResource StoryListPresenter_Default}" LinkTo="{Binding ElementName='MainStory1'}" IsStoryContinuationEnabled="False" StoryTemplate="{StaticResource StoryTemplate_LeftCol}" />
      <Rectangle Grid.Column="1" Grid.RowSpan="3" Style="{StaticResource Rectangle_VerticalRule}"/>
      <Grid Grid.Column="2" Grid.Row="2" Grid.ColumnSpan="3" Margin="0,5,0,0">
        <Grid.ColumnDefinitions>
          <ColumnDefinition Width="*"/>
          <ColumnDefinition Width="Auto"/>
          <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>
        <SceReaderControls:StoryListPresenter Grid.Column="0" x:Name="Presenter2" Style="{StaticResource StoryListPresenter_Default}" LinkTo="{Binding ElementName='Presenter1'}" IsStoryContinuationEnabled="False" />
        <Rectangle Grid.Column="1" Style="{StaticResource Rectangle_VerticalRule}"/>
        <SceReaderControls:StoryListPresenter Grid.Column="2" x:Name="Presenter3" Style="{StaticResource StoryListPresenter_Default}" LinkTo="{Binding ElementName='Presenter2'}" IsStoryContinuationEnabled="False" />
      </Grid>
    </Grid>
  </ControlTemplate>
  <ControlTemplate x:Key="SectionFront_3Col_Portrait" TargetType="{x:Type SceReaderControls:SectionFrontControl}">
    <Grid>
      <Grid.ColumnDefinitions>
        <ColumnDefinition Width="*"/>
        <ColumnDefinition Width="Auto"/>
        <ColumnDefinition Width="*"/>
        <ColumnDefinition Width="Auto"/>
        <ColumnDefinition Width="*"/>
      </Grid.ColumnDefinitions>
      <Grid.RowDefinitions>
        <RowDefinition Height="Auto"/>
        <RowDefinition Height="*"/>
      </Grid.RowDefinitions>
      <SceReaderControls:ImageControl Grid.Column="4" Grid.Row="0" Style="{StaticResource ImageControl_Default}" ImageReference="{Binding Path=MainImageReference}" Story="{Binding Path=MainImageReference.Story}" />
      <Grid Grid.Column="0" Grid.Row="0" Grid.RowSpan="2">
        <Grid.RowDefinitions>
          <RowDefinition Height="Auto"/>
          <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        <SceReaderControls:MainStoryControl Grid.Row="0" x:Name="MainStory1" Style="{StaticResource MainStoryControl_Inline}" />
        <SceReaderControls:StoryListPresenter Grid.Row="1" x:Name="Presenter1" Style="{StaticResource StoryListPresenter_Default}" LinkTo="{Binding ElementName='MainStory1'}" StoryTemplate="{StaticResource StoryTemplate_LeftCol}" IsStoryContinuationEnabled="False"/>
      </Grid>
      <Rectangle Grid.Column="1" Grid.Row="0" Grid.RowSpan="2" Style="{StaticResource Rectangle_VerticalRule}" />
      <SceReaderControls:StoryListPresenter Grid.Column="2" Grid.Row="0" Grid.RowSpan="2" x:Name="Presenter2" Style="{StaticResource StoryListPresenter_Default}" LinkTo="{Binding ElementName='Presenter1'}" />
      <Rectangle Grid.Column="3" Grid.Row="0" Grid.RowSpan="2" Style="{StaticResource Rectangle_VerticalRule}" />
      <SceReaderControls:StoryListPresenter Grid.Column="4" Grid.Row="1" x:Name="Presenter3" Style="{StaticResource StoryListPresenter_Default}" LinkTo="{Binding ElementName='Presenter2'}" />
    </Grid>
  </ControlTemplate>

  <ControlTemplate x:Key="SectionFront_4Col" TargetType="{x:Type SceReaderControls:SectionFrontControl}">
    <Grid>
      <Grid.ColumnDefinitions>
        <ColumnDefinition Width="1.15*"/>
        <ColumnDefinition Width="Auto"/>
        <ColumnDefinition Width="*"/>
        <ColumnDefinition Width="Auto"/>
        <ColumnDefinition Width="*"/>
        <ColumnDefinition Width="Auto"/>
        <ColumnDefinition Width="*"/>
      </Grid.ColumnDefinitions>
      <Grid.RowDefinitions>
        <RowDefinition Height="Auto"/>
        <RowDefinition Height="*"/>
      </Grid.RowDefinitions>
      <SceReaderControls:ImageControl Grid.Column="4" Grid.Row="0" Grid.ColumnSpan="3" Style="{StaticResource ImageControl_Default}" ImageReference="{Binding Path=MainImageReference}" Story="{Binding Path=MainImageReference.Story}" />
      <Grid Grid.Column="0" Grid.Row="0" Grid.RowSpan="2">
        <Grid.RowDefinitions>
          <RowDefinition Height="Auto"/>
          <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        <SceReaderControls:MainStoryControl Grid.Row="0" x:Name="MainStory1" Style="{StaticResource MainStoryControl_Inline}" />
        <SceReaderControls:StoryListPresenter Grid.Row="1" x:Name="Presenter1" Style="{StaticResource StoryListPresenter_Default}" LinkTo="{Binding ElementName='MainStory1'}" StoryTemplate="{StaticResource StoryTemplate_LeftCol}" IsStoryContinuationEnabled="False"/>
      </Grid>
      <Rectangle Grid.Column="1" Grid.Row="0" Grid.RowSpan="2" Style="{StaticResource Rectangle_VerticalRule}" />
      <SceReaderControls:StoryListPresenter Grid.Column="2" Grid.Row="0" Grid.RowSpan="2" x:Name="Presenter2" Style="{StaticResource StoryListPresenter_Default}" LinkTo="{Binding ElementName='Presenter1'}" />
      <Rectangle Grid.Column="3" Grid.Row="0" Grid.RowSpan="2" Style="{StaticResource Rectangle_VerticalRule}" />
      <SceReaderControls:StoryListPresenter Grid.Column="4" Grid.Row="1" x:Name="Presenter3" Style="{StaticResource StoryListPresenter_Default}" LinkTo="{Binding ElementName='Presenter2'}" />
      <Rectangle Grid.Column="5" Grid.Row="1" Style="{StaticResource Rectangle_VerticalRule}" />
      <SceReaderControls:StoryListPresenter Grid.Column="6" Grid.Row="1" x:Name="Presenter4" Style="{StaticResource StoryListPresenter_Default}" LinkTo="{Binding ElementName='Presenter3'}" />
    </Grid>
  </ControlTemplate>
  <ControlTemplate x:Key="SectionFront_4Col_Wide_MainStory" TargetType="{x:Type SceReaderControls:SectionFrontControl}">
    <Grid x:Name="MainGrid">
      <Grid.ColumnDefinitions>
        <ColumnDefinition Width="*"/>
        <ColumnDefinition Width="Auto"/>
        <ColumnDefinition Width="*"/>
        <ColumnDefinition Width="Auto"/>
        <ColumnDefinition Width="*"/>
        <ColumnDefinition Width="Auto"/>
        <ColumnDefinition Width="*"/>
      </Grid.ColumnDefinitions>
      <Grid.RowDefinitions>
        <RowDefinition Height="Auto"/>
        <RowDefinition Height="Auto" />
        <RowDefinition Height="*"/>
      </Grid.RowDefinitions>
      <SceReaderControls:MainStoryControl Grid.Column="2" Grid.ColumnSpan="3" Grid.Row="0" x:Name="MainStory1" Style="{StaticResource MainStoryControl_TopHeadline}" />
      <SceReaderControls:StoryListPresenter Grid.Column="0" Grid.RowSpan="3" x:Name="Presenter1" Style="{StaticResource StoryListPresenter_Default}" LinkTo="{Binding ElementName='MainStory1'}" IsStoryContinuationEnabled="False" StoryTemplate="{StaticResource StoryTemplate_LeftCol}" />
      <Rectangle Grid.Column="1" Grid.RowSpan="3" Style="{StaticResource Rectangle_VerticalRule}"/>
      <Grid Grid.Column="2" Grid.ColumnSpan="3" Grid.Row="2" Margin="0,5,0,0">
        <Grid.ColumnDefinitions>
          <ColumnDefinition Width="*"/>
          <ColumnDefinition Width="Auto"/>
          <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>
        <SceReaderControls:StoryListPresenter Grid.Column="0" Grid.ColumnSpan="1" x:Name="Presenter2" Style="{StaticResource StoryListPresenter_Default}" LinkTo="{Binding ElementName='Presenter1'}" IsStoryContinuationEnabled="False" />
        <Rectangle Grid.Column="1" Style="{StaticResource Rectangle_VerticalRule}"/>
        <SceReaderControls:StoryListPresenter Grid.Column="2" Grid.ColumnSpan="1" x:Name="Presenter3" Style="{StaticResource StoryListPresenter_Default}" LinkTo="{Binding ElementName='Presenter2'}" IsStoryContinuationEnabled="False" />
      </Grid>
      <Rectangle Grid.Column="5" Grid.RowSpan="3" Style="{StaticResource Rectangle_VerticalRule}"/>
      <SceReaderControls:StoryListPresenter Grid.Column="6" Grid.Row="0" Grid.RowSpan="3" x:Name="Presenter4" Style="{StaticResource StoryListPresenter_Default}" LinkTo="{Binding ElementName='Presenter3'}" StoryTemplate="{StaticResource StoryTemplate_LeftCol}" IsStoryContinuationEnabled="False" />
    </Grid>
  </ControlTemplate>
  <ControlTemplate x:Key="SectionFront_4Col_Portrait" TargetType="{x:Type SceReaderControls:SectionFrontControl}">
    <Grid>
      <Grid.ColumnDefinitions>
        <ColumnDefinition Width="*"/>
        <ColumnDefinition Width="Auto"/>
        <ColumnDefinition Width="*"/>
        <ColumnDefinition Width="Auto"/>
        <ColumnDefinition Width="*"/>
        <ColumnDefinition Width="Auto"/>
        <ColumnDefinition Width="*"/>
      </Grid.ColumnDefinitions>
      <Grid.RowDefinitions>
        <RowDefinition Height="Auto"/>
        <RowDefinition Height="*"/>
      </Grid.RowDefinitions>
      <SceReaderControls:ImageControl Grid.Column="6" Grid.Row="0" Style="{StaticResource ImageControl_Default}" ImageReference="{Binding Path=MainImageReference}" Story="{Binding Path=MainImageReference.Story}" />
      <Grid Grid.Column="0" Grid.Row="0" Grid.RowSpan="2">
        <Grid.RowDefinitions>
          <RowDefinition Height="Auto"/>
          <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        <SceReaderControls:MainStoryControl Grid.Row="0" x:Name="MainStory1" Style="{StaticResource MainStoryControl_Inline}" />
        <SceReaderControls:StoryListPresenter Grid.Row="1" x:Name="Presenter1" Style="{StaticResource StoryListPresenter_Default}" LinkTo="{Binding ElementName='MainStory1'}" StoryTemplate="{StaticResource StoryTemplate_LeftCol}" IsStoryContinuationEnabled="False"/>
      </Grid>
      <Rectangle Grid.Column="1" Grid.Row="0" Grid.RowSpan="2" Style="{StaticResource Rectangle_VerticalRule}" />
      <SceReaderControls:StoryListPresenter Grid.Column="2" Grid.Row="0" Grid.RowSpan="2" x:Name="Presenter2" Style="{StaticResource StoryListPresenter_Default}" LinkTo="{Binding ElementName='Presenter1'}" />
      <Rectangle Grid.Column="3" Grid.Row="0" Grid.RowSpan="2" Style="{StaticResource Rectangle_VerticalRule}" />
      <SceReaderControls:StoryListPresenter Grid.Column="4" Grid.Row="0" Grid.RowSpan="2" x:Name="Presenter3" Style="{StaticResource StoryListPresenter_Default}" LinkTo="{Binding ElementName='Presenter2'}" />
      <Rectangle Grid.Column="5" Grid.Row="0" Grid.RowSpan="2" Style="{StaticResource Rectangle_VerticalRule}" />
      <SceReaderControls:StoryListPresenter Grid.Column="6" Grid.Row="1" x:Name="Presenter4" Style="{StaticResource StoryListPresenter_Default}" LinkTo="{Binding ElementName='Presenter3'}" />
    </Grid>
  </ControlTemplate>

  <ControlTemplate x:Key="SectionFront_5Col_Wide_MainStory" TargetType="{x:Type SceReaderControls:SectionFrontControl}">
    <Grid x:Name="MainGrid">
      <Grid.ColumnDefinitions>
        <ColumnDefinition Width="*"/>
        <ColumnDefinition Width="Auto"/>
        <ColumnDefinition Width="*"/>
        <ColumnDefinition Width="Auto"/>
        <ColumnDefinition Width="*"/>
        <ColumnDefinition Width="Auto"/>
        <ColumnDefinition Width="*"/>
        <ColumnDefinition Width="Auto"/>
        <ColumnDefinition Width="*"/>
      </Grid.ColumnDefinitions>
      <Grid.RowDefinitions>
        <RowDefinition Height="Auto"/>
        <RowDefinition Height="Auto" />
        <RowDefinition Height="*"/>
      </Grid.RowDefinitions>
      <SceReaderControls:MainStoryControl Grid.Column="2" Grid.Row="0" Grid.ColumnSpan="3" x:Name="MainStory1" Style="{StaticResource MainStoryControl_TopHeadline}" />
      <SceReaderControls:StoryListPresenter Grid.Column="0" Grid.Row="0" Grid.RowSpan="3" x:Name="Presenter1" Style="{StaticResource StoryListPresenter_Default}" LinkTo="{Binding ElementName='MainStory1'}" IsStoryContinuationEnabled="False" StoryTemplate="{StaticResource StoryTemplate_LeftCol}" />
      <Rectangle Grid.Column="1" Grid.RowSpan="3" Style="{StaticResource Rectangle_VerticalRule}"/>
      <Grid Grid.Column="2" Grid.ColumnSpan="3" Grid.Row="2" Margin="0,5,0,0">
        <Grid.ColumnDefinitions>
          <ColumnDefinition Width="*"/>
          <ColumnDefinition Width="Auto"/>
          <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>
        <SceReaderControls:StoryListPresenter Grid.Column="0" x:Name="Presenter2" Style="{StaticResource StoryListPresenter_Default}" LinkTo="{Binding ElementName='Presenter1'}" IsStoryContinuationEnabled="False" />
        <Rectangle Grid.Column="1" Style="{StaticResource Rectangle_VerticalRule}"/>
        <SceReaderControls:StoryListPresenter Grid.Column="2" x:Name="Presenter3" Style="{StaticResource StoryListPresenter_Default}" LinkTo="{Binding ElementName='Presenter2'}" IsStoryContinuationEnabled="False" />
      </Grid>
      <Rectangle Grid.Column="5" Grid.RowSpan="3" Style="{StaticResource Rectangle_VerticalRule}"/>
      <SceReaderControls:StoryListPresenter Grid.Column="6" Grid.Row="0" Grid.RowSpan="3" x:Name="Presenter4" Style="{StaticResource StoryListPresenter_Default}" LinkTo="{Binding ElementName='Presenter3'}" IsStoryContinuationEnabled="False" />
      <Rectangle Grid.Column="7" Grid.RowSpan="3" Style="{StaticResource Rectangle_VerticalRule}"/>
      <SceReaderControls:StoryListPresenter Grid.Column="8" Grid.Row="0" Grid.RowSpan="3" x:Name="Presenter5" Style="{StaticResource StoryListPresenter_Default}" LinkTo="{Binding ElementName='Presenter4'}" StoryTemplate="{StaticResource StoryTemplate_LeftCol}" IsStoryContinuationEnabled="False" />
    </Grid>
  </ControlTemplate>
  <ControlTemplate x:Key="SectionFront_5Col_Wide_MainStoryTall" TargetType="{x:Type SceReaderControls:SectionFrontControl}">
    <Grid x:Name="MainGrid">
      <Grid.ColumnDefinitions>
        <ColumnDefinition Width="*"/>
        <ColumnDefinition Width="Auto"/>
        <ColumnDefinition Width="*"/>
        <ColumnDefinition Width="Auto"/>
        <ColumnDefinition Width="*"/>
        <ColumnDefinition Width="Auto"/>
        <ColumnDefinition Width="*"/>
        <ColumnDefinition Width="Auto"/>
        <ColumnDefinition Width="*"/>
      </Grid.ColumnDefinitions>
      <Grid.RowDefinitions>
        <RowDefinition Height="Auto"/>
        <RowDefinition Height="Auto" />
        <RowDefinition Height="*"/>
      </Grid.RowDefinitions>
      <SceReaderControls:MainStoryControl Grid.Column="2" Grid.Row="0" Grid.ColumnSpan="5" x:Name="MainStory1" Style="{StaticResource MainStoryControl_BigTopHeadline}" />
      <SceReaderControls:StoryListPresenter Grid.Column="0" Grid.RowSpan="3" x:Name="Presenter1" Style="{StaticResource StoryListPresenter_Default}" LinkTo="{Binding ElementName='MainStory1'}"  StoryTemplate="{StaticResource StoryTemplate_LeftCol}" IsStoryContinuationEnabled="False" />
      <Rectangle Grid.Column="1" Grid.Row="0" Grid.RowSpan="3" Style="{StaticResource Rectangle_VerticalRule}"/>
      <Grid Grid.Column="2" Grid.Row="2" Grid.ColumnSpan="5" Margin="0,5,0,0">
        <Grid.ColumnDefinitions>
          <ColumnDefinition Width="*"/>
          <ColumnDefinition Width="Auto"/>
          <ColumnDefinition Width="*"/>
          <ColumnDefinition Width="Auto"/>
          <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>
        <SceReaderControls:StoryListPresenter Grid.Column="0" x:Name="Presenter2" Style="{StaticResource StoryListPresenter_Default}" LinkTo="{Binding ElementName='Presenter1'}" IsStoryContinuationEnabled="False" />
        <Rectangle Grid.Column="1" Style="{StaticResource Rectangle_VerticalRule}"/>
        <SceReaderControls:StoryListPresenter Grid.Column="2" x:Name="Presenter3" Style="{StaticResource StoryListPresenter_Default}" LinkTo="{Binding ElementName='Presenter2'}" IsStoryContinuationEnabled="False" />
        <Rectangle Grid.Column="3" Style="{StaticResource Rectangle_VerticalRule}"/>
        <SceReaderControls:StoryListPresenter Grid.Column="4" x:Name="Presenter4" Style="{StaticResource StoryListPresenter_Default}" LinkTo="{Binding ElementName='Presenter3'}" IsStoryContinuationEnabled="False" />
      </Grid>
      <Rectangle Grid.Column="7" Grid.Row="0" Grid.RowSpan="3" Style="{StaticResource Rectangle_VerticalRule}"/>
      <SceReaderControls:StoryListPresenter Grid.Column="8" Grid.Row="0" Grid.RowSpan="3" x:Name="Presenter5" Style="{StaticResource StoryListPresenter_Default}" LinkTo="{Binding ElementName='Presenter4'}" StoryTemplate="{StaticResource StoryTemplate_LeftCol}" IsStoryContinuationEnabled="False" />
    </Grid>
  </ControlTemplate>

  <ControlTemplate x:Key="SectionFront_2Col_MSDN" TargetType="{x:Type SceReaderControls:SectionFrontControl}">
    <Grid>
      <Grid.RowDefinitions>
        <RowDefinition Height="Auto"/>
        <RowDefinition Height="*"/>
      </Grid.RowDefinitions>
      <SceReaderControls:MainStoryControl Grid.Row="0" x:Name="MainStory1" Style="{StaticResource MainStoryControl_Inline}" />
      <Grid Grid.Row="1">
        <Grid.ColumnDefinitions>
          <ColumnDefinition Width="*"/>
          <ColumnDefinition Width="Auto"/>
          <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>
        <SceReaderControls:StoryListPresenter Grid.Column="0" x:Name="Presenter1" Style="{StaticResource StoryListPresenter_Default}" LinkTo="{Binding ElementName='MainStory1'}" IsStoryContinuationEnabled="False" SeparatorTemplate="{StaticResource SeparatorTemplate_Hard}" StoryTemplate="{StaticResource StoryTemplate_WithImage}" />
        <Rectangle Grid.Column="1" Style="{StaticResource Rectangle_VerticalRule}" />
        <SceReaderControls:StoryListPresenter Grid.Column="2" x:Name="Presenter2" Style="{StaticResource StoryListPresenter_Default}" LinkTo="{Binding ElementName='Presenter1'}" IsStoryContinuationEnabled="False"/>
      </Grid>
    </Grid>
  </ControlTemplate>

  <ControlTemplate x:Key="SectionFront_3Col_MSDN" TargetType="{x:Type SceReaderControls:SectionFrontControl}">
    <Grid>
      <Grid.ColumnDefinitions>
        <ColumnDefinition Width="1.25*"/>
        <ColumnDefinition Width="Auto"/>
        <ColumnDefinition Width="1.25*"/>
        <ColumnDefinition Width="Auto"/>
        <ColumnDefinition Width="*"/>
        <ColumnDefinition Width="Auto"/>
        <ColumnDefinition Width="*"/>
      </Grid.ColumnDefinitions>
      <Grid.RowDefinitions>
        <RowDefinition Height="Auto"/>
        <RowDefinition Height="*"/>
      </Grid.RowDefinitions>
      <Grid Grid.Column="0" Grid.Row="0" Grid.RowSpan="2" Grid.ColumnSpan="3">
        <Grid.RowDefinitions>
          <RowDefinition Height="Auto"/>
          <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
          <ColumnDefinition Width="1.25*"/>
          <ColumnDefinition Width="Auto"/>
          <ColumnDefinition Width="1.25*"/>
        </Grid.ColumnDefinitions>
        <SceReaderControls:MainStoryControl Grid.Row="0" Grid.ColumnSpan="3"  x:Name="MainStory1" Style="{StaticResource MainStoryControl_Inline}" />
        <SceReaderControls:StoryListPresenter Grid.Row="1" x:Name="Presenter1" Style="{StaticResource StoryListPresenter_Default}" LinkTo="{Binding ElementName='MainStory1'}" StoryTemplate="{StaticResource StoryTemplate_WithImage}" IsStoryBreakingEnabled="True" IsStoryContinuationEnabled="False" SeparatorTemplate="{StaticResource SeparatorTemplate_Hard}"/>
        <Rectangle Grid.Column="1" Grid.Row="1" Style="{StaticResource Rectangle_VerticalRule}" />
        <SceReaderControls:StoryListPresenter Grid.Column="2" Grid.Row="1" Grid.RowSpan="2" x:Name="Presenter2" Style="{StaticResource StoryListPresenter_Default}" LinkTo="{Binding ElementName='Presenter1'}" StoryTemplate="{StaticResource StoryTemplate_WithImage}" IsStoryBreakingEnabled="True" IsStoryContinuationEnabled="False" SeparatorTemplate="{StaticResource SeparatorTemplate_Hard}"/>
      </Grid>
      <Rectangle Grid.Column="3" Grid.Row="0" Grid.RowSpan="2" Style="{StaticResource Rectangle_VerticalRule}" Fill="{StaticResource Brush_Kicker}" />
      <Border Grid.Column="4" Grid.ColumnSpan="3" Background="Orange" >
        <TextBlock Text="More Content" FontSize="{Binding Source={StaticResource LightSensorProvider}, Path=LuxValue, Converter={StaticResource LightLevelToFontSizeConverter}, ConverterParameter=16pt}" Foreground="White" Margin="3,0,0,0" />
      </Border>
      <SceReaderControls:StoryListPresenter Grid.Column="4" Grid.Row="1" x:Name="Presenter3" Style="{StaticResource StoryListPresenter_Default}" LinkTo="{Binding ElementName='Presenter2'}" IsStoryContinuationEnabled="False" />
      <Rectangle Grid.Column="5" Grid.Row="1" Style="{StaticResource Rectangle_VerticalRule}" />
      <SceReaderControls:StoryListPresenter Grid.Column="6" Grid.Row="1" x:Name="Presenter4" Style="{StaticResource StoryListPresenter_Default}" LinkTo="{Binding ElementName='Presenter3'}" />
    </Grid>
  </ControlTemplate>

  <ControlTemplate x:Key="SectionFront_4Col_MSDN" TargetType="{x:Type SceReaderControls:SectionFrontControl}">
    <Grid>
      <Grid.ColumnDefinitions>
        <ColumnDefinition Width="1.25*"/>
        <ColumnDefinition Width="Auto"/>
        <ColumnDefinition Width="1.25*"/>
        <ColumnDefinition Width="Auto"/>
        <ColumnDefinition Width="*"/>
        <ColumnDefinition Width="Auto"/>
        <ColumnDefinition Width="*"/>
        <ColumnDefinition Width="Auto"/>
        <ColumnDefinition Width="*"/>
      </Grid.ColumnDefinitions>
      <Grid.RowDefinitions>
        <RowDefinition Height="Auto"/>
        <RowDefinition Height="*"/>
      </Grid.RowDefinitions>
      <Grid Grid.Column="0" Grid.Row="0" Grid.RowSpan="2" Grid.ColumnSpan="3">
        <Grid.RowDefinitions>
          <RowDefinition Height="Auto"/>
          <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
          <ColumnDefinition Width="1.25*"/>
          <ColumnDefinition Width="Auto"/>
          <ColumnDefinition Width="1.25*"/>
        </Grid.ColumnDefinitions>
        <SceReaderControls:MainStoryControl Grid.Row="0" Grid.ColumnSpan="3"  x:Name="MainStory1" Style="{StaticResource MainStoryControl_Inline}" />
        <SceReaderControls:StoryListPresenter Grid.Row="1" x:Name="Presenter1" Style="{StaticResource StoryListPresenter_Default}" LinkTo="{Binding ElementName='MainStory1'}" StoryTemplate="{StaticResource StoryTemplate_WithImage}" IsStoryBreakingEnabled="True" IsStoryContinuationEnabled="False" SeparatorTemplate="{StaticResource SeparatorTemplate_Hard}"/>
        <Rectangle Grid.Column="1" Grid.Row="1" Style="{StaticResource Rectangle_VerticalRule}" />
        <SceReaderControls:StoryListPresenter Grid.Column="2" Grid.Row="1" Grid.RowSpan="2" x:Name="Presenter2" Style="{StaticResource StoryListPresenter_Default}" LinkTo="{Binding ElementName='Presenter1'}" StoryTemplate="{StaticResource StoryTemplate_WithImage}" IsStoryBreakingEnabled="True" IsStoryContinuationEnabled="False" SeparatorTemplate="{StaticResource SeparatorTemplate_Hard}"/>
      </Grid>
      <Rectangle Grid.Column="3" Grid.Row="0" Grid.RowSpan="2" Style="{StaticResource Rectangle_VerticalRule}" />
      <Border Grid.Column="4" Grid.ColumnSpan="5" Background="Orange" >
        <TextBlock Text="More Content" FontSize="{Binding Source={StaticResource LightSensorProvider}, Path=LuxValue, Converter={StaticResource LightLevelToFontSizeConverter}, ConverterParameter=16pt}" Foreground="White" Margin="3,0,0,0" />
      </Border>
      <SceReaderControls:StoryListPresenter Grid.Column="4" Grid.Row="1" x:Name="Presenter3" Style="{StaticResource StoryListPresenter_Default}" LinkTo="{Binding ElementName='Presenter2'}" IsStoryContinuationEnabled="False" />
      <Rectangle Grid.Column="5" Grid.Row="1" Style="{StaticResource Rectangle_VerticalRule}" />
      <SceReaderControls:StoryListPresenter Grid.Column="6" Grid.Row="1" x:Name="Presenter4" Style="{StaticResource StoryListPresenter_Default}" LinkTo="{Binding ElementName='Presenter3'}" />
      <Rectangle Grid.Column="7" Grid.Row="1" Style="{StaticResource Rectangle_VerticalRule}" />
      <SceReaderControls:StoryListPresenter Grid.Column="8" Grid.Row="1" x:Name="Presenter5" Style="{StaticResource StoryListPresenter_Default}" LinkTo="{Binding ElementName='Presenter4'}" />
    </Grid>
  </ControlTemplate>

  

  <!-- SizeControlTemplateCollections : Each template in these collections controls the visualization of the SectionFront
  at a range of screen sizes. Thus, small scale screen size changes are handled by standard WPF layout mechanisms within
  each template. Large scale changes are handled by swapping to a different template withing the same SizeControlTemplateCollection.
  We have multiple SizeControlTemplateCollections to handle different section types (ie portrait versus landscape main image). 
  -->

  <SceReaderControls:SizeControlTemplateCollection x:Key="DefaultSizeControlTemplateCollection">    
    <SceReaderControls:SizeControlTemplate MinWidth="0"    MaxWidth="400"  Template="{StaticResource SectionFront_1Col}"/>
    <SceReaderControls:SizeControlTemplate MinWidth="400"  MaxWidth="650" MaxHeight="750"   Template="{StaticResource SectionFront_2Col_MSDN}"/>
    <SceReaderControls:SizeControlTemplate MinWidth="400"  MaxWidth="650" MinHeight="750"  Template="{StaticResource SectionFront_2Col_MSDN}"/>
    <SceReaderControls:SizeControlTemplate MinWidth="650"  MaxWidth="1000" Template="{StaticResource SectionFront_3Col_MSDN}"/>
    <SceReaderControls:SizeControlTemplate MinWidth="1000"                 Template="{StaticResource SectionFront_4Col_MSDN}"/>
  </SceReaderControls:SizeControlTemplateCollection>

  <SceReaderControls:SizeControlTemplateCollection x:Key="PortraitImageTemplateCollection">
    <SceReaderControls:SizeControlTemplate MinWidth="0"    MaxWidth="400"  Template="{StaticResource SectionFront_1Col_Portrait}"/>
    <SceReaderControls:SizeControlTemplate MinWidth="400"  MaxWidth="650"  Template="{StaticResource SectionFront_2Col_Portrait}"/>
    <SceReaderControls:SizeControlTemplate MinWidth="650"  MaxWidth="1000" Template="{StaticResource SectionFront_3Col_Portrait}"/>
    <SceReaderControls:SizeControlTemplate MinWidth="1000"                 Template="{StaticResource SectionFront_4Col_Portrait}"/>
  </SceReaderControls:SizeControlTemplateCollection>

  <SceReaderControls:SizeControlTemplateCollection x:Key="WideImageMainStoryTemplateCollection">
    <SceReaderControls:SizeControlTemplate MinWidth="000"   MaxWidth="540" MinHeight="100" Template="{StaticResource SectionFront_2Col_Wide_MainStory}" />
    <SceReaderControls:SizeControlTemplate MinWidth="540"   MaxWidth="700" MinHeight="100" Template="{StaticResource SectionFront_3Col_Wide_MainStory}" />
    <SceReaderControls:SizeControlTemplate MinWidth="700"   MaxWidth="1000" MinHeight="100" Template="{StaticResource SectionFront_4Col_Wide_MainStory}" />
    <SceReaderControls:SizeControlTemplate MinWidth="1000"  MinHeight="100" MaxHeight="700"  Template="{StaticResource SectionFront_5Col_Wide_MainStory}" />
    <SceReaderControls:SizeControlTemplate MinWidth="1000"  MinHeight="700" Template="{StaticResource SectionFront_5Col_Wide_MainStoryTall}" />
  </SceReaderControls:SizeControlTemplateCollection>

  <!-- SectionFrontControl : default -->
  <Style TargetType="{x:Type SceReaderControls:SectionFrontControl}">
    <Setter Property="Margin" Value="5,5,5,0" />
    <!-- Here we set the template collection used when none of the triggers below evaluate to true-->
    <Setter Property="Templates" Value="{StaticResource DefaultSizeControlTemplateCollection}" />
    <!-- we strongly advise against removing the ViewportElement, it allows us to prevent elements in 
    a ViewPortBox from being clipped-->
    <Setter Property="SceReaderControls:ViewportBox.ViewportElement" Value="{Binding RelativeSource={RelativeSource Self}}" />
    <Setter Property="KeyboardNavigation.DirectionalNavigation" Value="Cycle" />
    <Setter Property="AutomationProperties.AutomationId" Value="SectionFrontContent" />
    <Setter Property="AutomationProperties.Name" Value="{Binding Path=Title}" />
    
    <!-- This set of triggers swaps entire TemplateCollections based on various properties of the section. For example,
    if you wanted to create a SizeControlTemplateCollection for the Sports section, you could set it in a Trigger below.-->
    <Style.Triggers>
      <Trigger Property="HasPortraitImage" Value="True">
        <Setter Property="Templates" Value="{StaticResource PortraitImageTemplateCollection}" />
      </Trigger>
      <MultiTrigger>
        <MultiTrigger.Conditions>
          <Condition Property="IsImageRelatedToMainStory" Value="True" />
          <Condition Property="HasPortraitImage" Value="False" />
        </MultiTrigger.Conditions>
        <Setter Property="Templates" Value="{StaticResource WideImageMainStoryTemplateCollection}" />
      </MultiTrigger>
    </Style.Triggers>
  </Style>

</ResourceDictionary>